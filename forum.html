<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>F√≥rum ‚Äî Blooming</title>
  <meta name="description" content="Participe do f√≥rum do Blooming e compartilhe suas experi√™ncias com outras mulheres.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="styles-main.css">
  <style>
    body {
      padding-top: 140px;
    }

    .forum-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      position: relative;
      z-index: 100;
    }

    .forum-header {
      text-align: center;
      margin-bottom: 50px;
    }

    .forum-header h1 {
      font-size: clamp(2rem, 4vw, 3rem);
      color: var(--primary-purple);
      margin-bottom: 20px;
    }

    .forum-header p {
      font-size: 18px;
      color: var(--text-light);
      max-width: 700px;
      margin: 0 auto 30px;
    }

    .nova-publicacao-btn {
      background: linear-gradient(135deg, var(--primary-purple), var(--dark-purple));
      color: white;
      padding: 16px 40px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 18px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(123, 63, 242, 0.3);
    }

    .nova-publicacao-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(123, 63, 242, 0.4);
    }

    .categorias {
      display: flex;
      gap: 15px;
      margin-bottom: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .categoria-btn {
      background: white;
      border: 2px solid var(--light-purple);
      color: var(--primary-purple);
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .categoria-btn:hover,
    .categoria-btn.active {
      background: var(--primary-purple);
      color: white;
      border-color: var(--primary-purple);
    }

    .publicacoes {
      display: grid;
      gap: 25px;
    }

    .publicacao-card {
      background: white;
      border-radius: 20px;
      padding: 30px;
      border: 2px solid var(--light-purple);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      z-index: 100;
    }

    .publicacao-card:hover {
      border-color: var(--primary-purple);
      box-shadow: 0 10px 30px rgba(123, 63, 242, 0.15);
      transform: translateY(-3px);
    }

    .publicacao-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 15px;
    }

    .publicacao-autor {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .autor-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-purple), var(--light-purple));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .autor-info h3 {
      font-size: 16px;
      color: var(--text-dark);
      font-weight: 600;
      margin-bottom: 3px;
    }

    .autor-info p {
      font-size: 14px;
      color: var(--text-light);
    }

    .publicacao-categoria {
      background: var(--lighter-purple);
      color: var(--primary-purple);
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
    }

    .publicacao-titulo {
      font-size: 22px;
      color: var(--text-dark);
      font-weight: 700;
      margin-bottom: 12px;
    }

    .publicacao-preview {
      color: var(--text-light);
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .publicacao-footer {
      display: flex;
      gap: 20px;
      align-items: center;
      padding-top: 15px;
      border-top: 1px solid var(--light-purple);
    }

    .footer-stat {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-light);
      font-size: 14px;
    }

    .footer-stat span {
      color: var(--primary-purple);
      font-weight: 600;
    }

    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: var(--text-light);
    }

    .empty-state-icon {
      font-size: 80px;
      margin-bottom: 20px;
    }

    .empty-state h2 {
      font-size: 28px;
      color: var(--text-dark);
      margin-bottom: 15px;
    }

    .aviso-box {
      background: linear-gradient(135deg, var(--lighter-purple), white);
      border-left: 4px solid var(--primary-purple);
      padding: 20px 25px;
      border-radius: 12px;
      margin-bottom: 30px;
    }

    .aviso-box strong {
      color: var(--primary-purple);
    }

    @media (max-width: 768px) {
      .categorias {
        overflow-x: auto;
        justify-content: flex-start;
        padding-bottom: 10px;
      }

      .publicacao-header {
        flex-direction: column;
        gap: 15px;
      }
    }

    /* Modal para nova publica√ß√£o */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      padding: 40px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .modal-header h2 {
      color: var(--primary-purple);
      font-size: 24px;
    }

    .close-modal {
      background: none;
      border: none;
      font-size: 32px;
      color: var(--text-light);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .close-modal:hover {
      color: var(--primary-purple);
      transform: rotate(90deg);
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      color: var(--text-dark);
      font-weight: 600;
      margin-bottom: 10px;
      font-size: 16px;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 15px;
      border: 2px solid var(--light-purple);
      border-radius: 12px;
      font-family: inherit;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--primary-purple);
      box-shadow: 0 0 0 4px rgba(123, 63, 242, 0.1);
    }

    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }

    .btn-submit {
      background: linear-gradient(135deg, var(--primary-purple), var(--dark-purple));
      color: white;
      padding: 16px 40px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 18px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      box-shadow: 0 10px 30px rgba(123, 63, 242, 0.3);
    }

    .btn-submit:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(123, 63, 242, 0.4);
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .checkbox-group input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    /* Visualiza√ß√£o de publica√ß√£o individual */
    .publicacao-detalhada {
      background: white;
      border-radius: 20px;
      padding: 40px;
      margin-bottom: 30px;
      border: 2px solid var(--light-purple);
    }

    .publicacao-detalhada .publicacao-texto-completo {
      color: var(--text-dark);
      line-height: 1.8;
      margin: 25px 0;
      white-space: pre-wrap;
    }

    .comentarios-section {
      margin-top: 40px;
      padding-top: 30px;
      border-top: 2px solid var(--light-purple);
    }

    .comentarios-section h3 {
      color: var(--primary-purple);
      font-size: 22px;
      margin-bottom: 20px;
    }

    .comentario {
      background: var(--lighter-purple);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 15px;
    }

    .comentario-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .comentario-autor {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .comentario-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-purple), var(--light-purple));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .comentario-texto {
      color: var(--text-dark);
      line-height: 1.6;
      white-space: pre-wrap;
    }

    .novo-comentario {
      margin-top: 30px;
    }

    .btn-apoiar {
      background: var(--lighter-purple);
      color: var(--primary-purple);
      border: 2px solid var(--primary-purple);
      padding: 10px 25px;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-apoiar:hover {
      background: var(--primary-purple);
      color: white;
    }

    .btn-apoiar.apoiado {
      background: var(--primary-purple);
      color: white;
    }

    .btn-voltar {
      background: white;
      color: var(--primary-purple);
      border: 2px solid var(--primary-purple);
      padding: 12px 30px;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 20px;
      display: inline-block;
    }

    .btn-voltar:hover {
      background: var(--primary-purple);
      color: white;
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loader">
    <div class="loader-flower"></div>
  </div>

  <!-- Purple Top Bar with Navigation -->
  <div class="top-bar">
    <div class="top-bar-pattern"></div>
    <nav class="top-nav">
      <div class="top-nav-links left">
        <a href="sobre.html" class="top-nav-link">Sobre</a>
        <a href="forum.html" class="top-nav-link">F√≥rum</a>
      </div>
      <div class="logo-center" onclick="window.location.href='index.html'"></div>
      <div class="top-nav-links right">
        <a href="faq.html" class="top-nav-link">FAQ</a>
        <a href="artigos.html" class="top-nav-link">Artigos</a>
      </div>
    </nav>
  </div>

  <!-- Floating Stars -->
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>
  <div class="floating-star"></div>

  <!-- Custom Cursor -->
  <div class="custom-cursor" id="cursor"></div>

  <!-- Background Decoration -->
  <div class="bg-decoration">
    <svg class="flower-pattern" viewBox="0 0 200 200">
      <g transform="translate(100, 100)">
        <circle cx="0" cy="-30" r="15" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="30" cy="0" r="15" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="0" cy="30" r="15" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="-30" cy="0" r="15" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="21" cy="-21" r="12" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="21" cy="21" r="12" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="-21" cy="21" r="12" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="-21" cy="-21" r="12" fill="#7B3FF2" opacity="0.3"/>
        <circle cx="0" cy="0" r="10" fill="#FFD700"/>
      </g>
    </svg>
    <svg class="flower-pattern" viewBox="0 0 200 200">
      <g transform="translate(100, 100)">
        <ellipse cx="0" cy="-35" rx="12" ry="25" fill="#E8D5FF" opacity="0.4"/>
        <ellipse cx="35" cy="0" rx="25" ry="12" fill="#E8D5FF" opacity="0.4"/>
        <ellipse cx="0" cy="35" rx="12" ry="25" fill="#E8D5FF" opacity="0.4"/>
        <ellipse cx="-35" cy="0" rx="25" ry="12" fill="#E8D5FF" opacity="0.4"/>
        <circle cx="0" cy="0" r="12" fill="#7B3FF2" opacity="0.5"/>
      </g>
    </svg>
    <svg class="flower-pattern" viewBox="0 0 200 200">
      <g transform="translate(100, 100)">
        <path d="M0,-40 Q-15,-35 -20,-20 Q-25,-5 -20,10 Q-15,25 0,30 Q15,25 20,10 Q25,-5 20,-20 Q15,-35 0,-40" fill="#F5EDFF" opacity="0.3"/>
        <path d="M40,0 Q35,-15 20,-20 Q5,-25 -10,-20 Q-25,-15 -30,0 Q-25,15 -10,20 Q5,25 20,20 Q35,15 40,0" fill="#F5EDFF" opacity="0.3"/>
        <circle cx="0" cy="0" r="8" fill="#5A2BC7" opacity="0.4"/>
      </g>
    </svg>
    <svg class="flower-pattern" viewBox="0 0 200 200">
      <g transform="translate(100, 100)">
        <circle cx="0" cy="-30" r="18" fill="#7B3FF2" opacity="0.2"/>
        <circle cx="26" cy="-15" r="15" fill="#E8D5FF" opacity="0.3"/>
        <circle cx="26" cy="15" r="15" fill="#E8D5FF" opacity="0.3"/>
        <circle cx="0" cy="30" r="18" fill="#7B3FF2" opacity="0.2"/>
        <circle cx="-26" cy="15" r="15" fill="#E8D5FF" opacity="0.3"/>
        <circle cx="-26" cy="-15" r="15" fill="#E8D5FF" opacity="0.3"/>
        <circle cx="0" cy="0" r="15" fill="#FFD700" opacity="0.4"/>
      </g>
    </svg>
  </div>

  <!-- Main Content -->
  <div class="forum-container">
    <div class="forum-header">
      <h1>üí¨ F√≥rum da Comunidade</h1>
      <p>Compartilhe suas experi√™ncias, d√∫vidas e apoie outras mulheres em um espa√ßo seguro e acolhedor</p>
      <button class="nova-publicacao-btn" id="btnNovaPublicacao">
        + Nova Publica√ß√£o
      </button>
    </div>

    <div class="aviso-box">
      <strong>‚ö†Ô∏è Lembre-se:</strong> Este √© um espa√ßo de apoio m√∫tuo, n√£o substitui consulta m√©dica. Em emerg√™ncias, ligue SAMU 192 ou Central da Mulher 180.
    </div>

    <div class="categorias" id="categorias">
      <button class="categoria-btn active" data-categoria="Todas">Todas</button>
      <button class="categoria-btn" data-categoria="Menstrua√ß√£o">Menstrua√ß√£o</button>
      <button class="categoria-btn" data-categoria="Sa√∫de Hormonal">Sa√∫de Hormonal</button>
      <button class="categoria-btn" data-categoria="Bem-Estar">Bem-Estar</button>
      <button class="categoria-btn" data-categoria="Relacionamentos">Relacionamentos</button>
      <button class="categoria-btn" data-categoria="Sexualidade">Sexualidade</button>
      <button class="categoria-btn" data-categoria="Anticoncepcionais">Anticoncepcionais</button>
    </div>

    <div class="publicacoes" id="publicacoes">
      <!-- Publica√ß√µes ser√£o carregadas aqui pelo JavaScript -->
    </div>

  </div>

  <!-- Modal Nova Publica√ß√£o -->
  <div class="modal-overlay" id="modalNovaPublicacao">
    <div class="modal-content">
      <div class="modal-header">
        <h2>‚ú® Nova Publica√ß√£o</h2>
        <button class="close-modal" onclick="fecharModal()">&times;</button>
      </div>
      <form id="formNovaPublicacao" onsubmit="criarPublicacao(event)">
        <div class="form-group">
          <label>Nome (opcional)</label>
          <input type="text" id="autorNome" placeholder="Deixe em branco para ser an√¥nima">
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="checkAnonima" checked>
          <label for="checkAnonima">Postar como an√¥nima</label>
        </div>

        <div class="form-group">
          <label>Categoria *</label>
          <select id="categoria" required>
            <option value="">Selecione uma categoria</option>
            <option value="Menstrua√ß√£o">Menstrua√ß√£o</option>
            <option value="Sa√∫de Hormonal">Sa√∫de Hormonal</option>
            <option value="Bem-Estar">Bem-Estar</option>
            <option value="Relacionamentos">Relacionamentos</option>
            <option value="Sexualidade">Sexualidade</option>
            <option value="Anticoncepcionais">Anticoncepcionais</option>
          </select>
        </div>

        <div class="form-group">
          <label>T√≠tulo *</label>
          <input type="text" id="titulo" placeholder="Ex: Algu√©m mais tem c√≥licas intensas?" required maxlength="100">
        </div>

        <div class="form-group">
          <label>Conte√∫do *</label>
          <textarea id="conteudo" placeholder="Compartilhe sua experi√™ncia, d√∫vida ou mensagem de apoio..." required></textarea>
        </div>

        <button type="submit" class="btn-submit">Publicar üå∏</button>
      </form>
    </div>
  </div>

  <!-- Modal Visualizar Publica√ß√£o -->
  <div class="modal-overlay" id="modalVisualizarPublicacao">
    <div class="modal-content">
      <button class="btn-voltar" onclick="fecharModalVisualizacao()">‚Üê Voltar</button>
      <div id="conteudoPublicacao"></div>
    </div>
  </div>

  <script src="script-main.js"></script>
  <script>
    // ========== SISTEMA DE F√ìRUM COMPLETO ==========
    
    // Avatares dispon√≠veis
    const avatares = ['üå∏', 'üíú', 'üå∫', 'üå∑', 'üåπ', 'üåª', 'üåº', 'üíê', 'ü¶ã', '‚ú®', 'üí´', '‚≠ê'];
    
    // Fun√ß√£o para obter avatar aleat√≥rio
    function getAvatarAleatorio() {
      return avatares[Math.floor(Math.random() * avatares.length)];
    }
    
    // Fun√ß√£o para calcular tempo decorrido
    function tempoDecorrido(timestamp) {
      const agora = Date.now();
      const diferenca = agora - timestamp;
      
      const minutos = Math.floor(diferenca / (1000 * 60));
      const horas = Math.floor(diferenca / (1000 * 60 * 60));
      const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));
      
      if (minutos < 1) return 'agora mesmo';
      if (minutos < 60) return `h√° ${minutos} ${minutos === 1 ? 'minuto' : 'minutos'}`;
      if (horas < 24) return `h√° ${horas} ${horas === 1 ? 'hora' : 'horas'}`;
      if (dias === 1) return 'ontem';
      if (dias < 30) return `h√° ${dias} dias`;
      return new Date(timestamp).toLocaleDateString('pt-BR');
    }
    
    // Inicializar publica√ß√µes de exemplo (apenas na primeira vez)
    function inicializarPublicacoesExemplo() {
      const publicacoes = obterPublicacoes();
      
      if (publicacoes.length === 0) {
        const exemplos = [
          {
            id: Date.now() + 1,
            autor: 'An√¥nima',
            avatar: 'üå∏',
            categoria: 'Menstrua√ß√£o',
            titulo: 'Algu√©m mais tem c√≥licas intensas?',
            conteudo: 'Estou tendo c√≥licas muito fortes nos √∫ltimos meses e gostaria de saber se √© normal e o que voc√™s fazem para aliviar. J√° tentei bolsa de √°gua quente e alguns ch√°s, mas n√£o est√° ajudando muito. Algu√©m tem alguma dica?',
            timestamp: Date.now() - (2 * 60 * 60 * 1000), // 2 horas atr√°s
            comentarios: [],
            apoios: 45,
            apoiadoPor: []
          },
          {
            id: Date.now() + 2,
            autor: 'Maria, 25 anos',
            avatar: 'üíú',
            categoria: 'Anticoncepcionais',
            titulo: 'Experi√™ncia com DIU de cobre',
            conteudo: 'Coloquei o DIU de cobre h√° 3 meses e queria compartilhar minha experi√™ncia com voc√™s. No in√≠cio tive um pouco de c√≥lica e o fluxo aumentou, mas agora est√° tudo bem. Estou muito feliz com a escolha! Algu√©m mais tem experi√™ncia com DIU?',
            timestamp: Date.now() - (5 * 60 * 60 * 1000), // 5 horas atr√°s
            comentarios: [],
            apoios: 89,
            apoiadoPor: []
          },
          {
            id: Date.now() + 3,
            autor: 'Ana',
            avatar: 'üå∫',
            categoria: 'Bem-Estar',
            titulo: 'Como lidar com TPM severa?',
            conteudo: 'A cada ciclo minha TPM est√° piorando - mudan√ßas de humor, ansiedade, irritabilidade. Algu√©m passa por isso? O que voc√™s fazem para lidar melhor com esses sintomas? Estou pensando em procurar uma ginecologista, mas queria ouvir experi√™ncias de voc√™s tamb√©m.',
            timestamp: Date.now() - (24 * 60 * 60 * 1000), // 1 dia atr√°s
            comentarios: [],
            apoios: 56,
            apoiadoPor: []
          }
        ];
        
        localStorage.setItem('blooming_publicacoes', JSON.stringify(exemplos));
      }
    }
    
    // Obter publica√ß√µes do localStorage
    function obterPublicacoes() {
      const publicacoes = localStorage.getItem('blooming_publicacoes');
      return publicacoes ? JSON.parse(publicacoes) : [];
    }
    
    // Salvar publica√ß√µes no localStorage
    function salvarPublicacoes(publicacoes) {
      localStorage.setItem('blooming_publicacoes', JSON.stringify(publicacoes));
    }
    
    // Abrir modal de nova publica√ß√£o
    document.getElementById('btnNovaPublicacao').addEventListener('click', () => {
      document.getElementById('modalNovaPublicacao').classList.add('active');
      document.body.style.overflow = 'hidden';
    });
    
    // Fechar modal
    function fecharModal() {
      document.getElementById('modalNovaPublicacao').classList.remove('active');
      document.getElementById('formNovaPublicacao').reset();
      document.body.style.overflow = 'auto';
    }
    
    // Gerenciar checkbox de an√¥nima
    document.getElementById('checkAnonima').addEventListener('change', function() {
      const inputNome = document.getElementById('autorNome');
      if (this.checked) {
        inputNome.value = '';
        inputNome.disabled = true;
      } else {
        inputNome.disabled = false;
        inputNome.focus();
      }
    });
    
    // Criar nova publica√ß√£o
    function criarPublicacao(event) {
      event.preventDefault();
      
      const anonima = document.getElementById('checkAnonima').checked;
      const autor = anonima ? 'An√¥nima' : (document.getElementById('autorNome').value || 'An√¥nima');
      const categoria = document.getElementById('categoria').value;
      const titulo = document.getElementById('titulo').value;
      const conteudo = document.getElementById('conteudo').value;
      
      const novaPublicacao = {
        id: Date.now(),
        autor: autor,
        avatar: getAvatarAleatorio(),
        categoria: categoria,
        titulo: titulo,
        conteudo: conteudo,
        timestamp: Date.now(),
        comentarios: [],
        apoios: 0,
        apoiadoPor: []
      };
      
      const publicacoes = obterPublicacoes();
      publicacoes.unshift(novaPublicacao); // Adiciona no in√≠cio
      salvarPublicacoes(publicacoes);
      
      fecharModal();
      carregarPublicacoes();
      
      // Mostrar mensagem de sucesso
      alert('‚ú® Publica√ß√£o criada com sucesso! üå∏');
    }
    
    // Carregar e exibir publica√ß√µes
    function carregarPublicacoes(categoriaFiltro = 'Todas') {
      const publicacoes = obterPublicacoes();
      const container = document.getElementById('publicacoes');
      
      // Filtrar por categoria
      const publicacoesFiltradas = categoriaFiltro === 'Todas' 
        ? publicacoes 
        : publicacoes.filter(p => p.categoria === categoriaFiltro);
      
      if (publicacoesFiltradas.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üå∏</div>
            <h2>Nenhuma publica√ß√£o encontrada</h2>
            <p>Seja a primeira a compartilhar nesta categoria!</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = publicacoesFiltradas.map(pub => `
        <div class="publicacao-card" onclick="abrirPublicacao(${pub.id})">
          <div class="publicacao-header">
            <div class="publicacao-autor">
              <div class="autor-avatar">${pub.avatar}</div>
              <div class="autor-info">
                <h3>${pub.autor}</h3>
                <p>${tempoDecorrido(pub.timestamp)}</p>
              </div>
            </div>
            <span class="publicacao-categoria">${pub.categoria}</span>
          </div>
          <h2 class="publicacao-titulo">${pub.titulo}</h2>
          <p class="publicacao-preview">
            ${pub.conteudo.substring(0, 150)}${pub.conteudo.length > 150 ? '...' : ''}
          </p>
          <div class="publicacao-footer">
            <div class="footer-stat">
              üí¨ <span>${pub.comentarios.length}</span> ${pub.comentarios.length === 1 ? 'resposta' : 'respostas'}
            </div>
            <div class="footer-stat">
              ‚ù§Ô∏è <span>${pub.apoios}</span> ${pub.apoios === 1 ? 'apoio' : 'apoios'}
            </div>
          </div>
        </div>
      `).join('');
    }
    
    // Filtrar por categoria
    document.querySelectorAll('.categoria-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.categoria-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        carregarPublicacoes(this.dataset.categoria);
      });
    });
    
    // Abrir publica√ß√£o individual
    function abrirPublicacao(id) {
      const publicacoes = obterPublicacoes();
      const pub = publicacoes.find(p => p.id === id);
      
      if (!pub) return;
      
      const usuarioId = getUsuarioId();
      const jaApoiou = pub.apoiadoPor.includes(usuarioId);
      
      const html = `
        <div class="publicacao-detalhada">
          <div class="publicacao-header">
            <div class="publicacao-autor">
              <div class="autor-avatar" style="width: 60px; height: 60px; font-size: 28px;">${pub.avatar}</div>
              <div class="autor-info">
                <h3 style="font-size: 20px;">${pub.autor}</h3>
                <p>${tempoDecorrido(pub.timestamp)}</p>
              </div>
            </div>
            <span class="publicacao-categoria">${pub.categoria}</span>
          </div>
          <h2 class="publicacao-titulo" style="font-size: 26px; margin-top: 20px;">${pub.titulo}</h2>
          <p class="publicacao-texto-completo">${pub.conteudo}</p>
          
          <div style="margin-top: 25px;">
            <button class="btn-apoiar ${jaApoiou ? 'apoiado' : ''}" onclick="toggleApoio(${pub.id}, event)">
              ‚ù§Ô∏è ${jaApoiou ? 'Apoiado' : 'Apoiar'} (${pub.apoios})
            </button>
          </div>
          
          <div class="comentarios-section">
            <h3>üí¨ Coment√°rios (${pub.comentarios.length})</h3>
            
            <div class="novo-comentario">
              <form onsubmit="adicionarComentario(event, ${pub.id})">
                <div class="form-group">
                  <textarea id="textoComentario" placeholder="Compartilhe seu apoio ou experi√™ncia..." required style="min-height: 100px;"></textarea>
                </div>
                <div class="checkbox-group">
                  <input type="checkbox" id="comentarioAnonimo" checked>
                  <label for="comentarioAnonimo">Comentar como an√¥nima</label>
                </div>
                <button type="submit" class="btn-submit">Enviar Coment√°rio üíú</button>
              </form>
            </div>
            
            <div id="listaComentarios" style="margin-top: 30px;">
              ${pub.comentarios.length === 0 ? '<p style="text-align: center; color: var(--text-light); padding: 20px;">Seja a primeira a comentar! üå∏</p>' : ''}
              ${pub.comentarios.map(com => `
                <div class="comentario">
                  <div class="comentario-header">
                    <div class="comentario-autor">
                      <div class="comentario-avatar">${com.avatar}</div>
                      <div>
                        <strong style="color: var(--primary-purple);">${com.autor}</strong>
                        <p style="font-size: 14px; color: var(--text-light); margin: 0;">${tempoDecorrido(com.timestamp)}</p>
                      </div>
                    </div>
                  </div>
                  <p class="comentario-texto">${com.texto}</p>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
      
      document.getElementById('conteudoPublicacao').innerHTML = html;
      document.getElementById('modalVisualizarPublicacao').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    // Fechar modal de visualiza√ß√£o
    function fecharModalVisualizacao() {
      document.getElementById('modalVisualizarPublicacao').classList.remove('active');
      document.body.style.overflow = 'auto';
      carregarPublicacoes(); // Atualizar lista
    }
    
    // Obter ou criar ID do usu√°rio
    function getUsuarioId() {
      let userId = localStorage.getItem('blooming_user_id');
      if (!userId) {
        userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('blooming_user_id', userId);
      }
      return userId;
    }
    
    // Toggle apoio
    function toggleApoio(publicacaoId, event) {
      event.stopPropagation();
      
      const publicacoes = obterPublicacoes();
      const pub = publicacoes.find(p => p.id === publicacaoId);
      
      if (!pub) return;
      
      const usuarioId = getUsuarioId();
      const jaApoiou = pub.apoiadoPor.includes(usuarioId);
      
      if (jaApoiou) {
        pub.apoios--;
        pub.apoiadoPor = pub.apoiadoPor.filter(id => id !== usuarioId);
      } else {
        pub.apoios++;
        pub.apoiadoPor.push(usuarioId);
      }
      
      salvarPublicacoes(publicacoes);
      abrirPublicacao(publicacaoId); // Recarregar
    }
    
    // Adicionar coment√°rio
    function adicionarComentario(event, publicacaoId) {
      event.preventDefault();
      
      const texto = document.getElementById('textoComentario').value;
      const anonimo = document.getElementById('comentarioAnonimo').checked;
      
      const publicacoes = obterPublicacoes();
      const pub = publicacoes.find(p => p.id === publicacaoId);
      
      if (!pub) return;
      
      const novoComentario = {
        id: Date.now(),
        autor: anonimo ? 'An√¥nima' : 'Usu√°ria',
        avatar: getAvatarAleatorio(),
        texto: texto,
        timestamp: Date.now()
      };
      
      pub.comentarios.push(novoComentario);
      salvarPublicacoes(publicacoes);
      
      abrirPublicacao(publicacaoId); // Recarregar
    }
    
    // Fechar modais ao clicar fora
    document.querySelectorAll('.modal-overlay').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
          document.body.style.overflow = 'auto';
        }
      });
    });
    
    // Inicializar ao carregar p√°gina
    document.addEventListener('DOMContentLoaded', () => {
      inicializarPublicacoesExemplo();
      carregarPublicacoes();
    });
  </script>
</body>
</html>
